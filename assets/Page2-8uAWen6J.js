import{b3 as y,aX as m}from"./index-DKzxz9eN.js";var g={},b;function E(){return b||(b=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePersistentState=function(o,S){const r=(0,u.useMemo)(()=>{const t=d.get(o);if(t)return t;const s=function(a,p){let i;try{const e=localStorage.getItem(a);i=e?JSON.parse(e):p}catch(e){console.error(`Error loading ${a} from localStorage:`,e),i=p}let c=i;const l=new Set;return{getSnapshot:()=>c,subscribe:e=>(l.add(e),()=>l.delete(e)),setState(e){c=typeof e=="function"?e(c):e;try{localStorage.setItem(a,JSON.stringify(c))}catch(f){console.error(`Error saving ${a} to localStorage:`,f)}l.forEach(f=>f())}}}(o,S);return d.set(o,s),s},[o,S]),h=(0,u.useSyncExternalStore)(r.subscribe,r.getSnapshot),x=(0,u.useCallback)(t=>{const s=typeof t=="function"?t(r.getSnapshot()):t;r.setState(s)},[r]);return[h,x]};const u=y(),d=new Map}(g)),g}var v=E();const j=()=>{const[n]=v.usePersistentState("global/counter",0);return m.jsxs("div",{children:["Page 2",m.jsxs("div",{style:{border:"1px solid red",padding:"10px"},children:["global/counter state: ",n]})]})};export{j as default};
